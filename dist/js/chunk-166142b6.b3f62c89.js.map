{"version":3,"sources":["webpack:///./src/views/Dashboard.vue","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?59c0","webpack:///./src/methods/httpMessageState.js","webpack:///./src/views/Dashboard.vue?8dc4","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js"],"names":["class","href","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","logout","methods","api","this","axios","post","then","response","data","success","$router","push","render","status","emitter","emit","title","errMessage","message","style","content","join","provide","$httpMessageState","created","token","document","cookie","replace","$http","defaults","headers","common","Authorization","res","mounted","components","navBar","ToastMessage","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","fails","module","exports","METHOD_NAME","argument","method"],"mappings":"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","file":"js/chunk-166142b6.b3f62c89.js","sourcesContent":["<template>\r\n  <nav-bar></nav-bar>\r\n  <div class=\"container-fluid mt-3 position-relative\">\r\n    <toast-message></toast-message>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { cookieFuc } from '../JS/cookie.js'\r\nimport navBar from '../components/Navbar.vue'\r\nimport emitter from '../methods/emitter.js'\r\nimport $httpMessageState from '../methods/httpMessageState.js'\r\nimport ToastMessage from '../components/ToastMessage.vue'\r\n\r\nexport default {\r\n  // 外層注入子層皆可以使用此套件搭配inject\r\n  provide () {\r\n    return {\r\n      emitter,\r\n      $httpMessageState\r\n    }\r\n  },\r\n  created () {\r\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n    // headers 加了token 進行驗證,但她用戶端跟後台取的資料不一樣\r\n    this.$http.defaults.headers.common.Authorization = token\r\n    const api = `${process.env.VUE_APP_PATH}api/user/check`\r\n    // 登入未成功返回登入頁面\r\n    this.$http.post(api, '').then((res) => {\r\n      if (!res.data.success) {\r\n        this.$router.push('/login')\r\n      }\r\n    })\r\n  },\r\n  mounted () {\r\n    emitter.emit('message', { title: '登入成功' })\r\n  },\r\n  // 此方法錯誤應該再畫面還沒生成就要檢查\r\n  // mounted () {\r\n  //   // JS在mouted才可以操作\r\n  //   // 取得由登入後塞的cookie中的token值\r\n  //   const token = cookieFuc.getItem('hexToken')\r\n  //   // 全域寫入\r\n  //   this.$http.defaults.headers.common.Authorization = token\r\n  //   const api = `${process.env.VUE_APP_PATH}api/user/check`\r\n  //   this.$http.post(api, '')\r\n  //     .then((response) => {\r\n  //       console.log(response)\r\n  //       if (!response.data.success) {\r\n  //         this.$router.push('/login')\r\n  //       }\r\n  //     })\r\n  // },\r\n  components: {\r\n    navBar,\r\n    ToastMessage\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <div class=\"container-fluid\">\r\n      <a class=\"navbar-brand\" href=\"#\">Navbar</a>\r\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarText\">\r\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/dashboard/products\">產品</router-link>\r\n          </li>\r\n          <li class=\"nav-itme\">\r\n            <router-link class=\"nav-link\" to=\"/dashboard/orders\">訂單</router-link>\r\n          </li>\r\n          <li class=\"nav-itme\">\r\n            <router-link class=\"nav-link\" to=\"/dashboard/coupons\">優惠卷</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" href=\"#\" v-on:click.prevent=\"logout\">登出</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    logout () {\r\n      const api = `${process.env.VUE_APP_PATH}logout`\r\n      this.axios.post(api, '')\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            this.$router.push('/login')\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Navbar.vue?vue&type=template&id=29c87602\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export default function (response, status = '新增') {\r\n  if (response.data.success) {\r\n    this.emitter.emit('message', {\r\n      title: `${status}成功`\r\n    })\r\n  } else {\r\n    // [ ]單純是因為解構賦值\r\n    const errMessage = typeof response.data.message === 'string' ? [response.data.message] : response.data.message\r\n    this.emitter.emit('message', {\r\n      style: 'danger',\r\n      title: `${status}失敗`,\r\n      content: errMessage.join('、')\r\n    })\r\n  }\r\n}\r\n","import { render } from \"./Dashboard.vue?vue&type=template&id=30cfcee6\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n"],"sourceRoot":""}