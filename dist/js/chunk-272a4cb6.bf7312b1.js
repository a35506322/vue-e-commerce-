(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-272a4cb6"],{"1dde":function(t,e,c){var n=c("d039"),i=c("b622"),a=c("2d00"),s=i("species");t.exports=function(t){return a>=51||!n((function(){var e=[],c=e.constructor={};return c[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var n=c("861d"),i=c("e8b5"),a=c("b622"),s=a("species");t.exports=function(t,e){var c;return i(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!i(c.prototype)?n(c)&&(c=c[s],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var n=c("c04e"),i=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var s=n(e);s in t?i.f(t,s,a(0,c)):t[s]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),i=c("d039"),a=c("e8b5"),s=c("861d"),o=c("7b0b"),r=c("50c4"),l=c("8418"),u=c("65f0"),b=c("1dde"),d=c("b622"),j=c("2d00"),O=d("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",h=j>=51||!i((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),g=b("concat"),v=function(t){if(!s(t))return!1;var e=t[O];return void 0!==e?!!e:a(t)},y=!h||!g;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,i,a,s=o(this),b=u(s,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?s:arguments[e],v(a)){if(i=r(a.length),d+i>p)throw TypeError(f);for(c=0;c<i;c++,d++)c in a&&l(b,d,a[c])}else{if(d>=p)throw TypeError(f);l(b,d++,a)}return b.length=d,b}})},aaaa:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),i={class:"container"},a={class:"row mt-4"},s={class:"col-md-7"},o={class:"table mt-4"},r=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",null,"圖片"),Object(n["i"])("th",null,"商品名稱"),Object(n["i"])("th",null,"價格"),Object(n["i"])("th")])],-1),l={style:{width:"200px"}},u={href:"#",class:"text-dark"},b={key:0,class:"h5"},d={key:1,class:"h6"},j={key:2,class:"h5"},O={class:"btn-group"},p={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status","aria-hidden":"true"},f=Object(n["i"])("span",{class:"visually-hidden"},"Loading...",-1),h=Object(n["h"])(" 加到購物車 "),g={class:"col-md-5"},v={class:"sticky-top"},y={class:"table align-middle"},m=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th"),Object(n["i"])("th",null,"品名"),Object(n["i"])("th",{style:{width:"110px"}},"數量"),Object(n["i"])("th",null,"單價")])],-1),x={key:0},k=Object(n["i"])("td",null,[Object(n["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm"},[Object(n["i"])("i",{class:"bi bi-trash"})])],-1),w=Object(n["i"])("div",{class:"text-success"}," 已套用優惠券 ",-1),C={class:"input-group input-group-sm"},E=Object(n["i"])("div",{class:"input-group-text"},"/ 單位",-1),L={class:"text-end"},A=Object(n["i"])("small",{class:"text-success"},"折扣價：",-1),I=Object(n["i"])("td",{colspan:"3",class:"text-end"},"總計",-1),_={class:"text-end"},P=Object(n["i"])("tr",null,[Object(n["i"])("td",{colspan:"3",class:"text-end text-success"},"折扣價"),Object(n["i"])("td",{class:"text-end text-success"},"199")],-1),q=Object(n["i"])("div",{class:"input-group mb-3 input-group-sm"},[Object(n["i"])("input",{type:"text",class:"form-control",placeholder:"請輸入優惠碼"}),Object(n["i"])("div",{class:"input-group-append"},[Object(n["i"])("button",{class:"btn btn-outline-secondary",type:"button"}," 套用優惠碼 ")])],-1);function z(t,e,c,z,U,J){return Object(n["s"])(),Object(n["e"])("div",i,[Object(n["i"])("div",a,[Object(n["i"])("div",s,[Object(n["i"])("table",o,[r,Object(n["i"])("tbody",null,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(U.products,(function(t,e){return Object(n["s"])(),Object(n["e"])("tr",{key:"key"+e},[Object(n["i"])("td",l,[Object(n["i"])("div",{style:[{backgroundImage:"url(".concat(t.imageUrl,")")},{height:"100px","background-size":"cover","background-position":"center"}]},null,4)]),Object(n["i"])("td",null,[Object(n["i"])("a",u,Object(n["E"])(t.title),1)]),Object(n["i"])("td",null,[t.price?Object(n["f"])("",!0):(Object(n["s"])(),Object(n["e"])("div",b,Object(n["E"])(t.origin_price),1)),t.price?(Object(n["s"])(),Object(n["e"])("del",d,"原價："+Object(n["E"])(t.origin_price),1)):Object(n["f"])("",!0),t.price?(Object(n["s"])(),Object(n["e"])("div",j,"現在只要："+Object(n["E"])(t.price),1)):Object(n["f"])("",!0)]),Object(n["i"])("td",null,[Object(n["i"])("div",O,[Object(n["i"])("button",{class:"btn btn-outline-primary btn-sm",onClick:function(e){return J.getProdcut(t.id)}},"查看更多",8,["onClick"]),Object(n["i"])("button",{class:"btn btn-outline-danger btn-sm",onClick:function(e){return J.addCart(t.id)},disabled:t.id===U.status.isLoadingItem},[t.id===U.status.isLoadingItem?(Object(n["s"])(),Object(n["e"])("div",p,[f])):Object(n["f"])("",!0),h],8,["onClick","disabled"])])])])})),128))])])]),Object(n["i"])("div",g,[Object(n["i"])("div",v,[Object(n["i"])("table",y,[m,U.carts.length>0?(Object(n["s"])(),Object(n["e"])("tbody",x,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(U.carts,(function(t,e){return Object(n["s"])(),Object(n["e"])("tr",{key:"key"+e},[k,Object(n["i"])("td",null,[Object(n["h"])(Object(n["E"])(t.product.title)+" ",1),w]),Object(n["i"])("td",null,[Object(n["i"])("div",C,[Object(n["L"])(Object(n["i"])("input",{type:"number",class:"form-control","onUpdate:modelValue":function(e){return t.qty=e}},null,8,["onUpdate:modelValue"]),[[n["H"],t.qty]]),E])]),Object(n["i"])("td",L,[Object(n["h"])(Object(n["E"])(t.product.price)+" ",1),A])])})),128))])):Object(n["f"])("",!0),Object(n["i"])("tfoot",null,[Object(n["i"])("tr",null,[I,Object(n["i"])("td",_,Object(n["E"])(U.total),1)]),P])]),q])])])])}c("99af");var U={data:function(){return{products:[],pagination:{},status:{isLoadingItem:""},carts:[],total:0,final_total:0}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eason-api","/products");this.axios.get(e).then((function(e){console.log(e),e.data.success&&(t.products=e.data.products,t.pagination=e.data.pagination)})).catch((function(t){console.log(t)}))},getProdcut:function(t){this.$router.push("/user/product/".concat(t))},getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eason-api","/cart");this.axios.get(e).then((function(e){console.log(e),e.data.success&&(t.carts=e.data.data.carts,t.total=e.data.data.total,t.final_total=e.data.data.final_total)})).catch((function(t){console.log(t)}))},addCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("eason-api","/cart");this.status.isLoadingItem=t,this.axios.post(c,{data:{product_id:t,qty:1}}).then((function(t){t.data.success&&(e.status.isLoadingItem="",e.getCarts())})).catch((function(t){console.log(t)}))}},created:function(){this.getProducts(),this.getCarts()}};U.render=z;e["default"]=U},e8b5:function(t,e,c){var n=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-272a4cb6.bf7312b1.js.map